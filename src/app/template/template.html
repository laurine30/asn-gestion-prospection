<header class="main-header">
  <nav class="nav-menu">
    <header class="professional-header">
      <img src="/assets/images/logo.png" width="30px" height="30px">
    </header>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">


    <div class="menu-left">

      <!-- Menu Paramètres -->
      <div class="dropdown">
        <button class="dropbtn" (click)="toggleMenu('parametres', $event)">
          <i class="bi bi-gear-fill" style="margin-right: 6px;"></i>
          Paramètres
          <span class="arrow" [class.open]="activeMenu==='parametres'">▶</span>
        </button>
        <div class="dropdown-content" [class.show]="activeMenu==='parametres'">
          <a routerLink="/utilisateur">Gestion utilisateur</a>
           <a routerLink="/role">Gestionr rôle</a>
           <a routerLink="/facture">Gestion facture</a>
         
        </div>
      </div>

      <!-- Gestion Prospections & AO -->
      <div class="dropdown">
        <button class="dropbtn" (click)="toggleMenu('gestion', $event)">
          <i class="bi bi-kanban-fill" style="margin-right: 6px;"></i>
          Gestion Prospections & AO
          <span class="arrow" [class.open]="activeMenu==='gestion'">▶</span>
        </button>
        <div class="dropdown-content" [class.show]="activeMenu==='gestion'">


           <div class="sub-dropdown">
            <button class="sub-dropbtn" (click)="toggleSubMenu('gestionClient', $event)">
          <a [routerLink]="['/createClient']">
              Gestion Client</a>
            </button>
            <div class="sub-dropdown-content" [class.show]="activeSubMenu==='gestionProspection'">
            </div>
          </div>

          
          <div class="sub-dropdown">
            <button class="sub-dropbtn" (click)="toggleSubMenu('gestionProspection', $event)">
          <a [routerLink]="['/liste-prospections']">
              Gestion Prospection</a>
            </button>
            <div class="sub-dropdown-content" [class.show]="activeSubMenu==='gestionProspection'">
            </div>
          </div>

          
          <div class="sub-dropdown">
            <button class="sub-dropbtn" (click)="toggleSubMenu('gestionAO', $event)">
              Gestion Appel d'offres
              <span class="arrow" [class.open]="activeSubMenu==='gestionAO'">▶</span>
            </button>
            <div class="sub-dropdown-content" [class.show]="activeSubMenu==='gestionAO'">
                <a [routerLink]="['/enregistrer-ao']">Enregistrer un AO</a>
                <a [routerLink]="['/dossier-ao']">Créer un dossier de réponse</a>
             
            </div>
          </div>

          <div class="sub-dropdown">
            <button class="sub-dropbtn" (click)="toggleSubMenu('gestionContrat', $event)">
          <a [routerLink]="['/contratlist']">
              Gestion contrat</a>
            </button>
            <div class="sub-dropdown-content" [class.show]="activeSubMenu==='gestionContrat'">
            </div>
          </div>

        </div>
      </div>
            

       
      <div class="dropdown">
        <button class="dropbtn" (click)="toggleMenu('liste', $event)">
          <!-- Icône Liste devant le texte -->
          <i class="bi bi-list" style="margin-right: 6px;"></i>
          Liste
          <span class="arrow" [class.open]="activeMenu==='liste'">▶</span>
        </button>
        <div class="dropdown-content" [class.show]="activeMenu==='liste'">
          <a routerLink="/liste-prospections">Liste des Prospections</a>
          <a routerLink="/createClient">Liste des clients</a>
          <a routerLink="/Listeao">Listes des appels d'offres</a>
           <a routerLink="/Listecontrat">Listes des contrats</a>
           
        </div>
      </div>

      <div class="dropdown">
        <button class="dropbtn" (click)="toggleMenu('analyse', $event)">
          <i class="bi bi-bar-chart" style="margin-right: 6px;"></i>
          Analyse
          <span class="arrow" [class.open]="activeMenu==='analyse'">▶</span>
        </button>
        <div class="dropdown-content" [class.show]="activeMenu==='analyse'">
          <a routerLink="/dashboard">Tableau de bord</a>
          <a href="#">Statistiques</a>
          <a href="#">Rapports</a>
        </div>
      </div>

    </div>

    <div class="user-info">
      <i class="bi bi-person-circle" style="font-size: 24px; color: #f5f5f5;"></i>
      <span class="user-name">{{ utilisateurConnecte }}</span>
    </div>

    <a href="#" class="logout-btn">
      Déconnexion <i class="bi bi-box-arrow-right"></i>
    </a>
  </nav>
</header>



<router-outlet></router-outlet>
<footer class="footer">
  © 2025 ASN TECHNOLOGY. Tous droits réservés.
</footer>